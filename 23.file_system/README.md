# 创建文件系统

__PS.对应书中第14章（文件系统）中的14.1~14.2节（创建文件系统）__

需要注意的是：
(踩了4.5h的坑，终于解决了QAQ)
`qemu`/`virtualbox`虚拟机中，写硬盘有些问题。具体是`fs/fs.c`中`ide_write()`如果一次写多个扇区，在后续`ide_read()`中将会在信号量处阻塞，即不会收到读硬盘的中断信号。
所以，`partition_format()`函数中我们一次只写一个扇区，用循环写入多个扇区。